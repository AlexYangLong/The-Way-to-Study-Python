<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			.container{
				margin: 0 auto;
			}
			#big{
				width: 500px;
				height: 250px;
				border: 1px solid #969696;
			}
			.small{
				width: 50px;
				height: 50px;
				/*clear: both;*/
				float: left;
			}
			#btn{
				width: 500px;
			}
		</style>
	</head>
	<body>
		<div class="container" id="big">
			
		</div>
		<div class="container" id="btn"><button id="add">添加</button><button id="twinkle">闪烁</button></div>
	
		<script type="text/javascript" src="mylib.js" ></script>
		<script>
			(function(){
				var counter = 0;
				var big = document.getElementById('big');
				bindEvent($('add'), 'click', function(){
					counter++;
					if(counter <= 50){
						var small = document.createElement('div');
						small.className = 'small';
						
						small.style.backgroundColor = 'rgb('+Math.floor(Math.random()*256)+','+Math.floor(Math.random()*256)+','+Math.floor(Math.random()*256)+')';
						big.appendChild(small);
					}
				});
				
				bindEvent($('twinkle'), 'click', function(){
					
					window.setInterval(function(){
						var small_divs = document.querySelectorAll('#big>div');
						for(var i=0; i<small_divs.length; i++){
							small_divs[i].style.backgroundColor = 'rgb('+Math.floor(Math.random()*256)+','+Math.floor(Math.random()*256)+','+Math.floor(Math.random()*256)+')';
						}
					}, 200);
				});
			}());
		</script>
	</body>
</html>
